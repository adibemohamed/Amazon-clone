[debug] [2020-09-11T23:48:24.218Z] ----------------------------------------------------------------------
[debug] [2020-09-11T23:48:24.219Z] Command:       /usr/local/bin/firebase /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase emulators:start
[debug] [2020-09-11T23:48:24.220Z] CLI Version:   8.7.0
[debug] [2020-09-11T23:48:24.220Z] Platform:      linux
[debug] [2020-09-11T23:48:24.220Z] Node Version:  v12.18.1
[debug] [2020-09-11T23:48:24.220Z] Time:          Fri Sep 11 2020 23:48:24 GMT+0000 (Greenwich Mean Time)
[debug] [2020-09-11T23:48:24.220Z] ----------------------------------------------------------------------
[debug] [2020-09-11T23:48:24.220Z] 
[debug] [2020-09-11T23:48:24.229Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-09-11T23:48:24.229Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] ⚠  hub: emulator hub unable to start on port 4400, starting on 4401 instead. {"metadata":{"emulator":{"name":"hub"},"message":"emulator hub unable to start on port 4400, starting on 4401 instead."}}
[debug] [2020-09-11T23:48:24.250Z] [hub] writing locator at /tmp/hub-clone-975bf.json
[debug] [2020-09-11T23:48:24.260Z] defaultcredentials: writing to file /home/adibe/.config/firebase/mr_eladib.mohamed_gmail.com_application_default_credentials.json
[debug] [2020-09-11T23:48:24.261Z] Setting GAC to /home/adibe/.config/firebase/mr_eladib.mohamed_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/adibe/.config/firebase/mr_eladib.mohamed_gmail.com_application_default_credentials.json"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[warn] ⚠  logging: Logging Emulator unable to start on port 4500, starting on 4501 instead. {"metadata":{"emulator":{"name":"logging"},"message":"Logging Emulator unable to start on port 4500, starting on 4501 instead."}}
[warn] ⚠  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2020-09-11T23:48:24.337Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-09-11T23:48:24.338Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-09-11T23:48:24.338Z] Starting Emulator UI with command {"binary":"node","args":["/home/adibe/.cache/firebase/emulators/ui-v1.1.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/adibe/.cache/firebase/emulators/ui-v1.1.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-09-11T23:48:24.482Z] Web / API server started at http://localhost:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4001\n"}}
[info] i  functions: Watching "/home/adibe/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/adibe/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2020-09-11T23:48:24.610Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-11T23:48:24.610Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-09-11T23:48:24.610Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-11T23:48:24.611Z] [worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: Assigning socketPath: /tmp/fire_emu_106364.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: Assigning socketPath: /tmp/fire_emu_106364.sock"}}
[debug] [2020-09-11T23:48:24.611Z] [worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: BUSY"}}
[debug] [2020-09-11T23:48:24.895Z] [runtime-status] [106364] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:48:24.896Z] [runtime-status] [106364] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:48:24.897Z] [runtime-status] [106364] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.898Z] [runtime-status] [106364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.899Z] [runtime-status] [106364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.900Z] [runtime-status] [106364] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:48:24.901Z] [runtime-status] [106364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.931Z] [runtime-status] [106364] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:48:24.931Z] [runtime-status] [106364] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:48:24.932Z] [runtime-status] [106364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.933Z] [runtime-status] [106364] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.933Z] [runtime-status] [106364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:24.934Z] [runtime-status] [106364] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [106364] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5002/clone-975bf/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5002/clone-975bf/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4001 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5002 │ http://localhost:4001/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4401, 4501

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-09-11T23:48:25.011Z] [worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: IDLE"}}
[debug] [2020-09-11T23:48:56.630Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-11T23:48:56.630Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-11T23:48:56.631Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-11T23:48:56.636Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:48:56.637Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-11T23:48:56.637Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:48:56.637Z] [worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: Assigning socketPath: /tmp/fire_emu_106428.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: Assigning socketPath: /tmp/fire_emu_106428.sock"}}
[debug] [2020-09-11T23:48:56.638Z] [worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: BUSY"}}
[debug] [2020-09-11T23:48:57.099Z] [runtime-status] [106428] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:48:57.100Z] [runtime-status] [106428] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:48:57.102Z] [runtime-status] [106428] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.103Z] [runtime-status] [106428] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.104Z] [runtime-status] [106428] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.105Z] [runtime-status] [106428] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:48:57.107Z] [runtime-status] [106428] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.138Z] [runtime-status] [106428] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:48:57.139Z] [runtime-status] [106428] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:48:57.140Z] [runtime-status] [106428] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.140Z] [runtime-status] [106428] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.141Z] [runtime-status] [106428] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:48:57.141Z] [runtime-status] [106428] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:48:57.220Z] [runtime-status] [106428] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:48:57.221Z] [runtime-status] [106428] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:48:57.222Z] [runtime-status] [106428] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:48:57.225Z] [runtime-status] [106428] Attempting to listen to socketPath: /tmp/fire_emu_106428.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Attempting to listen to socketPath: /tmp/fire_emu_106428.sock"}}
[debug] [2020-09-11T23:48:57.227Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:48:57.237Z] [runtime-status] [106428] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-11T23:48:57.250Z] [runtime-status] [106428] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106428] Ephemeral server survived."}}
[info] >  (node:106428) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:106428) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106428) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:106428) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:106428) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106428) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:106428) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:106428) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106428) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-11T23:49:57.237Z] [worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: exited"}}
[debug] [2020-09-11T23:49:57.237Z] [worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-60ac2250-2024-46c1-b298-27bbf69c596d]: FINISHED"}}
[debug] [2020-09-11T23:49:57.237Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-11T23:50:10.699Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-11T23:50:10.699Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-11T23:50:10.699Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=12997 --> api
[debug] [2020-09-11T23:50:10.699Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-11T23:50:10.705Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:50:10.706Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-11T23:50:10.706Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:50:10.706Z] [worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: Assigning socketPath: /tmp/fire_emu_106512.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: Assigning socketPath: /tmp/fire_emu_106512.sock"}}
[debug] [2020-09-11T23:50:10.707Z] [worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: BUSY"}}
[debug] [2020-09-11T23:50:11.096Z] [runtime-status] [106512] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:50:11.098Z] [runtime-status] [106512] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:50:11.099Z] [runtime-status] [106512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.100Z] [runtime-status] [106512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.100Z] [runtime-status] [106512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.102Z] [runtime-status] [106512] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:50:11.102Z] [runtime-status] [106512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.132Z] [runtime-status] [106512] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:50:11.132Z] [runtime-status] [106512] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:50:11.133Z] [runtime-status] [106512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.136Z] [runtime-status] [106512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.136Z] [runtime-status] [106512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:50:11.137Z] [runtime-status] [106512] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:50:11.213Z] [runtime-status] [106512] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:50:11.214Z] [runtime-status] [106512] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:50:11.214Z] [runtime-status] [106512] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:50:11.216Z] [runtime-status] [106512] Attempting to listen to socketPath: /tmp/fire_emu_106512.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Attempting to listen to socketPath: /tmp/fire_emu_106512.sock"}}
[debug] [2020-09-11T23:50:11.219Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:50:11.226Z] [runtime-status] [106512] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  12997 {"user":"Payment Request Received BOOM!!!!! total:  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  12997"}}
[debug] [2020-09-11T23:50:11.238Z] [runtime-status] [106512] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106512] Ephemeral server survived."}}
[info] >  (node:106512) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl {"user":"(node:106512) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106512) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl"}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:106512) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:106512) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106512) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:106512) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:106512) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106512) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-11T23:51:11.228Z] [worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: exited"}}
[debug] [2020-09-11T23:51:11.228Z] [worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d0e74dcd-83d6-4dfc-b498-6e8992f8c9ff]: FINISHED"}}
[debug] [2020-09-11T23:51:11.228Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-11T23:54:39.586Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-11T23:54:39.586Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-11T23:54:39.586Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-11T23:54:39.586Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-11T23:54:39.592Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:54:39.593Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-11T23:54:39.593Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:54:39.593Z] [worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: Assigning socketPath: /tmp/fire_emu_106825.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: Assigning socketPath: /tmp/fire_emu_106825.sock"}}
[debug] [2020-09-11T23:54:39.593Z] [worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: BUSY"}}
[debug] [2020-09-11T23:54:40.075Z] [runtime-status] [106825] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:54:40.076Z] [runtime-status] [106825] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:54:40.078Z] [runtime-status] [106825] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.079Z] [runtime-status] [106825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.082Z] [runtime-status] [106825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.083Z] [runtime-status] [106825] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:54:40.083Z] [runtime-status] [106825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.123Z] [runtime-status] [106825] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:54:40.124Z] [runtime-status] [106825] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:54:40.125Z] [runtime-status] [106825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.126Z] [runtime-status] [106825] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.127Z] [runtime-status] [106825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:40.127Z] [runtime-status] [106825] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:54:40.230Z] [runtime-status] [106825] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:54:40.232Z] [runtime-status] [106825] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:54:40.232Z] [runtime-status] [106825] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:54:40.235Z] [runtime-status] [106825] Attempting to listen to socketPath: /tmp/fire_emu_106825.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Attempting to listen to socketPath: /tmp/fire_emu_106825.sock"}}
[debug] [2020-09-11T23:54:40.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:54:40.245Z] [runtime-status] [106825] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-11T23:54:40.258Z] [runtime-status] [106825] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106825] Ephemeral server survived."}}
[info] >  (node:106825) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:106825) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106825) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:106825) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:106825) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106825) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:106825) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:106825) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106825) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-11T23:54:51.817Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-11T23:54:51.817Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-11T23:54:51.817Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=7998 --> api
[debug] [2020-09-11T23:54:51.824Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:54:51.824Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-11T23:54:51.824Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:54:51.824Z] [worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: Assigning socketPath: /tmp/fire_emu_106863.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: Assigning socketPath: /tmp/fire_emu_106863.sock"}}
[debug] [2020-09-11T23:54:51.825Z] [worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: BUSY"}}
[debug] [2020-09-11T23:54:52.159Z] [runtime-status] [106863] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:54:52.160Z] [runtime-status] [106863] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:54:52.162Z] [runtime-status] [106863] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.163Z] [runtime-status] [106863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.163Z] [runtime-status] [106863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.165Z] [runtime-status] [106863] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:54:52.165Z] [runtime-status] [106863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.194Z] [runtime-status] [106863] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:54:52.194Z] [runtime-status] [106863] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:54:52.195Z] [runtime-status] [106863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.196Z] [runtime-status] [106863] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.196Z] [runtime-status] [106863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:54:52.197Z] [runtime-status] [106863] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:54:52.271Z] [runtime-status] [106863] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:54:52.271Z] [runtime-status] [106863] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:54:52.272Z] [runtime-status] [106863] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:54:52.274Z] [runtime-status] [106863] Attempting to listen to socketPath: /tmp/fire_emu_106863.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Attempting to listen to socketPath: /tmp/fire_emu_106863.sock"}}
[debug] [2020-09-11T23:54:52.276Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:54:52.281Z] [runtime-status] [106863] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  7998 {"user":"Payment Request Received BOOM!!!!! total:  7998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  7998"}}
[debug] [2020-09-11T23:54:52.293Z] [runtime-status] [106863] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106863] Ephemeral server survived."}}
[info] >  (node:106863) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl {"user":"(node:106863) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106863) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl"}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:106863) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:106863) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106863) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:106863) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:106863) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106863) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-11T23:55:40.245Z] [worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: exited"}}
[debug] [2020-09-11T23:55:40.246Z] [worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-83217a18-3174-4761-a05d-3c06a017d9ec]: FINISHED"}}
[debug] [2020-09-11T23:55:40.246Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-11T23:55:49.344Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-11T23:55:49.344Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-11T23:55:49.344Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-11T23:55:49.344Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-11T23:55:49.351Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:55:49.351Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-11T23:55:49.351Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:55:49.351Z] [worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: Assigning socketPath: /tmp/fire_emu_106959.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: Assigning socketPath: /tmp/fire_emu_106959.sock"}}
[debug] [2020-09-11T23:55:49.352Z] [worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: BUSY"}}
[debug] [2020-09-11T23:55:49.855Z] [runtime-status] [106959] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:55:49.857Z] [runtime-status] [106959] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:55:49.860Z] [runtime-status] [106959] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.862Z] [runtime-status] [106959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.863Z] [runtime-status] [106959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.864Z] [runtime-status] [106959] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:55:49.865Z] [runtime-status] [106959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.900Z] [runtime-status] [106959] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:55:49.900Z] [runtime-status] [106959] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:55:49.901Z] [runtime-status] [106959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.901Z] [runtime-status] [106959] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.902Z] [runtime-status] [106959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:55:49.903Z] [runtime-status] [106959] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:55:50.002Z] [runtime-status] [106959] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:55:50.002Z] [runtime-status] [106959] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:55:50.002Z] [runtime-status] [106959] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:55:50.007Z] [runtime-status] [106959] Attempting to listen to socketPath: /tmp/fire_emu_106959.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Attempting to listen to socketPath: /tmp/fire_emu_106959.sock"}}
[debug] [2020-09-11T23:55:50.010Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:55:50.016Z] [runtime-status] [106959] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-11T23:55:50.030Z] [runtime-status] [106959] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [106959] Ephemeral server survived."}}
[info] >  (node:106959) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:106959) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106959) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:106959) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:106959) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106959) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:106959) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:106959) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:106959) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-11T23:55:52.287Z] [worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: exited"}}
[debug] [2020-09-11T23:55:52.288Z] [worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-262fab86-99b5-4522-8c89-3d39f754139f]: FINISHED"}}
[debug] [2020-09-11T23:55:52.288Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-11T23:56:40.639Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-11T23:56:40.640Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-11T23:56:40.640Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=7998 --> api
[debug] [2020-09-11T23:56:40.640Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-11T23:56:40.645Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:56:40.646Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-11T23:56:40.646Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:56:40.646Z] [worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: Assigning socketPath: /tmp/fire_emu_107039.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: Assigning socketPath: /tmp/fire_emu_107039.sock"}}
[debug] [2020-09-11T23:56:40.646Z] [worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: BUSY"}}
[debug] [2020-09-11T23:56:40.997Z] [runtime-status] [107039] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:56:40.998Z] [runtime-status] [107039] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:56:41.000Z] [runtime-status] [107039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.001Z] [runtime-status] [107039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.001Z] [runtime-status] [107039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.003Z] [runtime-status] [107039] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:56:41.004Z] [runtime-status] [107039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.033Z] [runtime-status] [107039] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:56:41.033Z] [runtime-status] [107039] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:56:41.033Z] [runtime-status] [107039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.035Z] [runtime-status] [107039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.035Z] [runtime-status] [107039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:56:41.035Z] [runtime-status] [107039] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:56:41.110Z] [runtime-status] [107039] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:56:41.111Z] [runtime-status] [107039] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:56:41.111Z] [runtime-status] [107039] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:56:41.114Z] [runtime-status] [107039] Attempting to listen to socketPath: /tmp/fire_emu_107039.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Attempting to listen to socketPath: /tmp/fire_emu_107039.sock"}}
[debug] [2020-09-11T23:56:41.117Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:56:41.123Z] [runtime-status] [107039] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  7998 {"user":"Payment Request Received BOOM!!!!! total:  7998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  7998"}}
[debug] [2020-09-11T23:56:41.134Z] [runtime-status] [107039] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107039] Ephemeral server survived."}}
[info] >  (node:107039) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl {"user":"(node:107039) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107039) UnhandledPromiseRejectionWarning: Error: Invalid currency: use. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, eek, lvl, svc, vef, ltl"}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:107039) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:107039) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107039) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:107039) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:107039) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107039) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-11T23:56:50.015Z] [worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: exited"}}
[debug] [2020-09-11T23:56:50.016Z] [worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-38186998-017a-47cf-8cda-a5bdbb4055f1]: FINISHED"}}
[debug] [2020-09-11T23:56:50.016Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-11T23:57:41.126Z] [worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: exited"}}
[debug] [2020-09-11T23:57:41.126Z] [worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-288bbebd-3ad3-4638-8e02-0bedacb412ec]: FINISHED"}}
[debug] [2020-09-11T23:57:41.126Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-11T23:58:07.271Z] File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-11T23:58:08.272Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-11T23:58:08.272Z] [worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: FINISHING"}}
[debug] [2020-09-11T23:58:08.273Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-11T23:58:08.280Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-11T23:58:08.280Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-11T23:58:08.280Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-11T23:58:08.281Z] [worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: Assigning socketPath: /tmp/fire_emu_107418.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: Assigning socketPath: /tmp/fire_emu_107418.sock"}}
[debug] [2020-09-11T23:58:08.282Z] [worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: BUSY"}}
[debug] [2020-09-11T23:58:08.283Z] [worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: exited"}}
[debug] [2020-09-11T23:58:08.283Z] [worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-98313109-9004-463a-9204-ddc71fcffa43]: FINISHED"}}
[debug] [2020-09-11T23:58:08.575Z] [runtime-status] [107418] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:58:08.576Z] [runtime-status] [107418] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:58:08.578Z] [runtime-status] [107418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.579Z] [runtime-status] [107418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.579Z] [runtime-status] [107418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.581Z] [runtime-status] [107418] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:58:08.582Z] [runtime-status] [107418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.609Z] [runtime-status] [107418] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:58:08.609Z] [runtime-status] [107418] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:58:08.612Z] [runtime-status] [107418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.613Z] [runtime-status] [107418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.614Z] [runtime-status] [107418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:58:08.614Z] [runtime-status] [107418] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107418] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:58:08.691Z] [worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: IDLE"}}
[debug] [2020-09-11T23:59:07.855Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-11T23:59:07.855Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-11T23:59:07.855Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?3000 --> api
[debug] [2020-09-11T23:59:07.856Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-11T23:59:07.859Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-11T23:59:07.860Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-11T23:59:07.860Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-11T23:59:07.860Z] [worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: Assigning socketPath: /tmp/fire_emu_107533.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: Assigning socketPath: /tmp/fire_emu_107533.sock"}}
[debug] [2020-09-11T23:59:07.860Z] [worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: BUSY"}}
[debug] [2020-09-11T23:59:08.169Z] [runtime-status] [107533] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-11T23:59:08.170Z] [runtime-status] [107533] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Disabled runtime features: undefined"}}
[debug] [2020-09-11T23:59:08.172Z] [runtime-status] [107533] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.173Z] [runtime-status] [107533] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.174Z] [runtime-status] [107533] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.175Z] [runtime-status] [107533] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-11T23:59:08.176Z] [runtime-status] [107533] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.208Z] [runtime-status] [107533] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-11T23:59:08.208Z] [runtime-status] [107533] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-11T23:59:08.209Z] [runtime-status] [107533] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.211Z] [runtime-status] [107533] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.211Z] [runtime-status] [107533] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-11T23:59:08.211Z] [runtime-status] [107533] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-11T23:59:08.286Z] [runtime-status] [107533] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-11T23:59:08.287Z] [runtime-status] [107533] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-11T23:59:08.287Z] [runtime-status] [107533] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Running api in mode HTTPS"}}
[debug] [2020-09-11T23:59:08.290Z] [runtime-status] [107533] Attempting to listen to socketPath: /tmp/fire_emu_107533.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Attempting to listen to socketPath: /tmp/fire_emu_107533.sock"}}
[debug] [2020-09-11T23:59:08.291Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-11T23:59:08.298Z] [runtime-status] [107533] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  undefined {"user":"Payment Request Received BOOM!!!!! total:  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  undefined"}}
[debug] [2020-09-11T23:59:08.309Z] [runtime-status] [107533] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107533] Ephemeral server survived."}}
[info] >  (node:107533) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:107533) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107533) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:107533) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:107533) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107533) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:107533) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:107533) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107533) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:00:08.297Z] [worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: exited"}}
[debug] [2020-09-12T00:00:08.297Z] [worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d65063ec-49c9-46c0-aee6-bc1c8d87aeb8]: FINISHED"}}
[debug] [2020-09-12T00:00:08.297Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:00:29.527Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:00:29.527Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:00:29.527Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=2300 --> api
[debug] [2020-09-12T00:00:29.527Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:00:29.532Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:00:29.532Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:00:29.532Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:00:29.532Z] [worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: Assigning socketPath: /tmp/fire_emu_107683.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: Assigning socketPath: /tmp/fire_emu_107683.sock"}}
[debug] [2020-09-12T00:00:29.532Z] [worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: BUSY"}}
[debug] [2020-09-12T00:00:29.834Z] [runtime-status] [107683] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:00:29.835Z] [runtime-status] [107683] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:00:29.837Z] [runtime-status] [107683] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.838Z] [runtime-status] [107683] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.838Z] [runtime-status] [107683] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.840Z] [runtime-status] [107683] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:00:29.841Z] [runtime-status] [107683] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.868Z] [runtime-status] [107683] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:00:29.870Z] [runtime-status] [107683] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:00:29.872Z] [runtime-status] [107683] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.873Z] [runtime-status] [107683] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.874Z] [runtime-status] [107683] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:00:29.874Z] [runtime-status] [107683] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:00:29.947Z] [runtime-status] [107683] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:00:29.948Z] [runtime-status] [107683] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:00:29.948Z] [runtime-status] [107683] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:00:29.951Z] [runtime-status] [107683] Attempting to listen to socketPath: /tmp/fire_emu_107683.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Attempting to listen to socketPath: /tmp/fire_emu_107683.sock"}}
[debug] [2020-09-12T00:00:29.953Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:00:29.959Z] [runtime-status] [107683] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  2300 {"user":"Payment Request Received BOOM!!!!! total:  2300","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  2300"}}
[debug] [2020-09-12T00:00:29.970Z] [runtime-status] [107683] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107683] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:00:30.939Z] [worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: IDLE"}}
[debug] [2020-09-12T00:00:30.939Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:01:10.428Z] File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-12T00:01:11.428Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-12T00:01:11.429Z] [worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: FINISHING"}}
[debug] [2020-09-12T00:01:11.429Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-09-12T00:01:11.430Z] [worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: FINISHING"}}
[debug] [2020-09-12T00:01:11.440Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-12T00:01:11.441Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-12T00:01:11.441Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-12T00:01:11.441Z] [worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: Assigning socketPath: /tmp/fire_emu_107732.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: Assigning socketPath: /tmp/fire_emu_107732.sock"}}
[debug] [2020-09-12T00:01:11.441Z] [worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: BUSY"}}
[debug] [2020-09-12T00:01:11.442Z] [worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: exited"}}
[debug] [2020-09-12T00:01:11.442Z] [worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6625abd3-4053-4619-8a74-683e18467513]: FINISHED"}}
[debug] [2020-09-12T00:01:11.442Z] [worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: exited"}}
[debug] [2020-09-12T00:01:11.442Z] [worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3aa9a199-aca5-41b6-bd6a-89146d30705c]: FINISHED"}}
[debug] [2020-09-12T00:01:11.728Z] [runtime-status] [107732] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:01:11.730Z] [runtime-status] [107732] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:01:11.731Z] [runtime-status] [107732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.732Z] [runtime-status] [107732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.733Z] [runtime-status] [107732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.735Z] [runtime-status] [107732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:01:11.736Z] [runtime-status] [107732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.764Z] [runtime-status] [107732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:01:11.765Z] [runtime-status] [107732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:01:11.766Z] [runtime-status] [107732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.766Z] [runtime-status] [107732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.767Z] [runtime-status] [107732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:11.767Z] [runtime-status] [107732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:01:11.850Z] [worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: IDLE"}}
[debug] [2020-09-12T00:01:13.633Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:01:13.633Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:01:13.633Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=2300 --> api
[debug] [2020-09-12T00:01:13.633Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-12T00:01:13.633Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:01:13.637Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:01:13.638Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:01:13.638Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:01:13.638Z] [worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: Assigning socketPath: /tmp/fire_emu_107742.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: Assigning socketPath: /tmp/fire_emu_107742.sock"}}
[debug] [2020-09-12T00:01:13.638Z] [worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: BUSY"}}
[debug] [2020-09-12T00:01:13.947Z] [runtime-status] [107742] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:01:13.948Z] [runtime-status] [107742] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:01:13.951Z] [runtime-status] [107742] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.951Z] [runtime-status] [107742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.951Z] [runtime-status] [107742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.953Z] [runtime-status] [107742] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:01:13.954Z] [runtime-status] [107742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.981Z] [runtime-status] [107742] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:01:13.981Z] [runtime-status] [107742] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:01:13.985Z] [runtime-status] [107742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.986Z] [runtime-status] [107742] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.986Z] [runtime-status] [107742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:01:13.986Z] [runtime-status] [107742] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:01:14.060Z] [runtime-status] [107742] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:01:14.062Z] [runtime-status] [107742] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:01:14.062Z] [runtime-status] [107742] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:01:14.064Z] [runtime-status] [107742] Attempting to listen to socketPath: /tmp/fire_emu_107742.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Attempting to listen to socketPath: /tmp/fire_emu_107742.sock"}}
[debug] [2020-09-12T00:01:14.066Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:01:14.071Z] [runtime-status] [107742] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  2300 {"user":"Payment Request Received BOOM!!!!! total:  2300","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  2300"}}
[debug] [2020-09-12T00:01:14.083Z] [runtime-status] [107742] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107742] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:01:14.939Z] [worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: IDLE"}}
[debug] [2020-09-12T00:01:14.939Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:03:31.153Z] File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-12T00:03:32.154Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-12T00:03:32.155Z] [worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: FINISHING"}}
[debug] [2020-09-12T00:03:32.155Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-09-12T00:03:32.155Z] [worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: FINISHING"}}
[debug] [2020-09-12T00:03:32.163Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-12T00:03:32.163Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-12T00:03:32.164Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-12T00:03:32.164Z] [worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: Assigning socketPath: /tmp/fire_emu_107834.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: Assigning socketPath: /tmp/fire_emu_107834.sock"}}
[debug] [2020-09-12T00:03:32.164Z] [worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: BUSY"}}
[debug] [2020-09-12T00:03:32.165Z] [worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: exited"}}
[debug] [2020-09-12T00:03:32.165Z] [worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f6f941df-2b45-47c8-b944-bf8833bd815d]: FINISHED"}}
[debug] [2020-09-12T00:03:32.166Z] [worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: exited"}}
[debug] [2020-09-12T00:03:32.166Z] [worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82e4f131-1c2a-4187-8160-48dd20d60340]: FINISHED"}}
[debug] [2020-09-12T00:03:32.477Z] [runtime-status] [107834] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:03:32.478Z] [runtime-status] [107834] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:03:32.480Z] [runtime-status] [107834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.481Z] [runtime-status] [107834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.482Z] [runtime-status] [107834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.483Z] [runtime-status] [107834] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:03:32.484Z] [runtime-status] [107834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.517Z] [runtime-status] [107834] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:03:32.517Z] [runtime-status] [107834] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:03:32.518Z] [runtime-status] [107834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.518Z] [runtime-status] [107834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.519Z] [runtime-status] [107834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:32.520Z] [runtime-status] [107834] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [107834] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:03:32.598Z] [worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: IDLE"}}
[debug] [2020-09-12T00:03:35.451Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:03:35.452Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:03:35.452Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=2300 --> api
[debug] [2020-09-12T00:03:35.452Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-12T00:03:35.452Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:03:35.457Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:03:35.457Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:03:35.457Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:03:35.457Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: Assigning socketPath: /tmp/fire_emu_107855.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: Assigning socketPath: /tmp/fire_emu_107855.sock"}}
[debug] [2020-09-12T00:03:35.457Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: BUSY"}}
[debug] [2020-09-12T00:03:35.773Z] [runtime-status] [107855] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:03:35.774Z] [runtime-status] [107855] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:03:35.776Z] [runtime-status] [107855] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.777Z] [runtime-status] [107855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.778Z] [runtime-status] [107855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.780Z] [runtime-status] [107855] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:03:35.780Z] [runtime-status] [107855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.809Z] [runtime-status] [107855] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:03:35.810Z] [runtime-status] [107855] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:03:35.810Z] [runtime-status] [107855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.812Z] [runtime-status] [107855] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.812Z] [runtime-status] [107855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:03:35.812Z] [runtime-status] [107855] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:03:35.884Z] [runtime-status] [107855] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:03:35.885Z] [runtime-status] [107855] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:03:35.885Z] [runtime-status] [107855] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:03:35.888Z] [runtime-status] [107855] Attempting to listen to socketPath: /tmp/fire_emu_107855.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Attempting to listen to socketPath: /tmp/fire_emu_107855.sock"}}
[debug] [2020-09-12T00:03:35.891Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:03:35.896Z] [runtime-status] [107855] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  2300 {"user":"Payment Request Received BOOM!!!!! total:  2300","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  2300"}}
[debug] [2020-09-12T00:03:35.907Z] [runtime-status] [107855] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:03:36.700Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: IDLE"}}
[debug] [2020-09-12T00:03:36.701Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:09:41.832Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:09:41.832Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:09:41.832Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=10997 --> api
[debug] [2020-09-12T00:09:41.832Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:09:41.832Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: Assigning socketPath: /tmp/fire_emu_107855.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: Assigning socketPath: /tmp/fire_emu_107855.sock"}}
[debug] [2020-09-12T00:09:41.833Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: BUSY"}}
[debug] [2020-09-12T00:09:41.834Z] [runtime-status] [107855] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:09:41.834Z] [runtime-status] [107855] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:09:41.835Z] [runtime-status] [107855] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:09:41.835Z] [runtime-status] [107855] Attempting to listen to socketPath: /tmp/fire_emu_107855.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Attempting to listen to socketPath: /tmp/fire_emu_107855.sock"}}
[debug] [2020-09-12T00:09:41.836Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:09:41.841Z] [runtime-status] [107855] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  10997 {"user":"Payment Request Received BOOM!!!!! total:  10997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  10997"}}
[debug] [2020-09-12T00:09:41.846Z] [runtime-status] [107855] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:09:42.849Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: IDLE"}}
[debug] [2020-09-12T00:09:42.850Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:10:19.483Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:10:19.483Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:10:19.483Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:10:19.483Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:10:19.483Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: Assigning socketPath: /tmp/fire_emu_107855.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: Assigning socketPath: /tmp/fire_emu_107855.sock"}}
[debug] [2020-09-12T00:10:19.483Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: BUSY"}}
[debug] [2020-09-12T00:10:19.484Z] [runtime-status] [107855] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:10:19.485Z] [runtime-status] [107855] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:10:19.485Z] [runtime-status] [107855] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:10:19.486Z] [runtime-status] [107855] Attempting to listen to socketPath: /tmp/fire_emu_107855.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Attempting to listen to socketPath: /tmp/fire_emu_107855.sock"}}
[debug] [2020-09-12T00:10:19.487Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:10:19.491Z] [runtime-status] [107855] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:10:19.492Z] [runtime-status] [107855] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [107855] Ephemeral server survived."}}
[info] >  (node:107855) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:107855) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107855) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:107855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:107855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:107855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:107855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:107855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-12T00:10:26.653Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-12T00:10:26.653Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-12T00:10:26.653Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=7998 --> api
[debug] [2020-09-12T00:10:26.659Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:10:26.660Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-12T00:10:26.660Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:10:26.660Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: Assigning socketPath: /tmp/fire_emu_108167.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: Assigning socketPath: /tmp/fire_emu_108167.sock"}}
[debug] [2020-09-12T00:10:26.660Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: BUSY"}}
[debug] [2020-09-12T00:10:26.965Z] [runtime-status] [108167] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:10:26.966Z] [runtime-status] [108167] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:10:26.968Z] [runtime-status] [108167] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:26.969Z] [runtime-status] [108167] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:26.970Z] [runtime-status] [108167] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:26.971Z] [runtime-status] [108167] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:10:26.973Z] [runtime-status] [108167] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:27.000Z] [runtime-status] [108167] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:10:27.001Z] [runtime-status] [108167] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:10:27.001Z] [runtime-status] [108167] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:27.002Z] [runtime-status] [108167] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:27.003Z] [runtime-status] [108167] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:10:27.003Z] [runtime-status] [108167] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:10:27.077Z] [runtime-status] [108167] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:10:27.078Z] [runtime-status] [108167] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:10:27.078Z] [runtime-status] [108167] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:10:27.081Z] [runtime-status] [108167] Attempting to listen to socketPath: /tmp/fire_emu_108167.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Attempting to listen to socketPath: /tmp/fire_emu_108167.sock"}}
[debug] [2020-09-12T00:10:27.084Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:10:27.094Z] [runtime-status] [108167] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  7998 {"user":"Payment Request Received BOOM!!!!! total:  7998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  7998"}}
[debug] [2020-09-12T00:10:27.110Z] [runtime-status] [108167] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:10:27.903Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: IDLE"}}
[debug] [2020-09-12T00:10:27.903Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:11:19.498Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: exited"}}
[debug] [2020-09-12T00:11:19.498Z] [worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e575773d-a8e1-4928-b798-58f00afe9f6e]: FINISHED"}}
[debug] [2020-09-12T00:11:19.498Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:16:39.888Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:16:39.889Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:16:39.889Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=7998 --> api
[debug] [2020-09-12T00:16:39.889Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-09-12T00:16:39.889Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:16:39.889Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: Assigning socketPath: /tmp/fire_emu_108167.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: Assigning socketPath: /tmp/fire_emu_108167.sock"}}
[debug] [2020-09-12T00:16:39.889Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: BUSY"}}
[debug] [2020-09-12T00:16:39.890Z] [runtime-status] [108167] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:16:39.891Z] [runtime-status] [108167] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:16:39.891Z] [runtime-status] [108167] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:16:39.891Z] [runtime-status] [108167] Attempting to listen to socketPath: /tmp/fire_emu_108167.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Attempting to listen to socketPath: /tmp/fire_emu_108167.sock"}}
[debug] [2020-09-12T00:16:39.892Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:16:39.899Z] [runtime-status] [108167] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  7998 {"user":"Payment Request Received BOOM!!!!! total:  7998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  7998"}}
[debug] [2020-09-12T00:16:39.903Z] [runtime-status] [108167] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:16:40.676Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: IDLE"}}
[debug] [2020-09-12T00:16:40.676Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:16:54.663Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:16:54.663Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:16:54.663Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:16:54.663Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:16:54.663Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: Assigning socketPath: /tmp/fire_emu_108167.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: Assigning socketPath: /tmp/fire_emu_108167.sock"}}
[debug] [2020-09-12T00:16:54.664Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: BUSY"}}
[debug] [2020-09-12T00:16:54.665Z] [runtime-status] [108167] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:16:54.666Z] [runtime-status] [108167] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:16:54.666Z] [runtime-status] [108167] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:16:54.667Z] [runtime-status] [108167] Attempting to listen to socketPath: /tmp/fire_emu_108167.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Attempting to listen to socketPath: /tmp/fire_emu_108167.sock"}}
[debug] [2020-09-12T00:16:54.668Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:16:54.671Z] [runtime-status] [108167] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:16:54.673Z] [runtime-status] [108167] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108167] Ephemeral server survived."}}
[info] >  (node:108167) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:108167) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108167) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:108167) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:108167) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108167) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:108167) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:108167) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108167) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:17:54.676Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: exited"}}
[debug] [2020-09-12T00:17:54.676Z] [worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35895f45-b8f7-4c64-b641-a0f605d886ab]: FINISHED"}}
[debug] [2020-09-12T00:17:54.676Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:18:28.134Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:18:28.135Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:18:28.135Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=233989.00000000003 --> api
[debug] [2020-09-12T00:18:28.135Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:18:28.141Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:18:28.141Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:18:28.141Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:18:28.141Z] [worker-api-64b103c2-429f-4979-938c-66001778b8b9]: Assigning socketPath: /tmp/fire_emu_108688.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64b103c2-429f-4979-938c-66001778b8b9]: Assigning socketPath: /tmp/fire_emu_108688.sock"}}
[debug] [2020-09-12T00:18:28.141Z] [worker-api-64b103c2-429f-4979-938c-66001778b8b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64b103c2-429f-4979-938c-66001778b8b9]: BUSY"}}
[debug] [2020-09-12T00:18:28.454Z] [runtime-status] [108688] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:18:28.456Z] [runtime-status] [108688] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:18:28.457Z] [runtime-status] [108688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.458Z] [runtime-status] [108688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.459Z] [runtime-status] [108688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.460Z] [runtime-status] [108688] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:18:28.461Z] [runtime-status] [108688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.491Z] [runtime-status] [108688] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:18:28.491Z] [runtime-status] [108688] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:18:28.491Z] [runtime-status] [108688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.492Z] [runtime-status] [108688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.492Z] [runtime-status] [108688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:18:28.492Z] [runtime-status] [108688] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:18:28.570Z] [runtime-status] [108688] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:18:28.572Z] [runtime-status] [108688] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:18:28.572Z] [runtime-status] [108688] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:18:28.574Z] [runtime-status] [108688] Attempting to listen to socketPath: /tmp/fire_emu_108688.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Attempting to listen to socketPath: /tmp/fire_emu_108688.sock"}}
[debug] [2020-09-12T00:18:28.576Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:18:28.581Z] [runtime-status] [108688] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  233989.00000000003 {"user":"Payment Request Received BOOM!!!!! total:  233989.00000000003","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  233989.00000000003"}}
[debug] [2020-09-12T00:18:28.592Z] [runtime-status] [108688] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108688] Ephemeral server survived."}}
[info] >  (node:108688) UnhandledPromiseRejectionWarning: Error: Invalid integer: 233989.00000000003 {"user":"(node:108688) UnhandledPromiseRejectionWarning: Error: Invalid integer: 233989.00000000003","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108688) UnhandledPromiseRejectionWarning: Error: Invalid integer: 233989.00000000003"}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:108688) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:108688) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108688) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:108688) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:108688) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108688) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-12T00:19:13.005Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-12T00:19:13.005Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-12T00:19:13.005Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:19:13.013Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:19:13.013Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-12T00:19:13.013Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:19:13.014Z] [worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: Assigning socketPath: /tmp/fire_emu_108752.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: Assigning socketPath: /tmp/fire_emu_108752.sock"}}
[debug] [2020-09-12T00:19:13.014Z] [worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: BUSY"}}
[debug] [2020-09-12T00:19:13.496Z] [runtime-status] [108752] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:19:13.497Z] [runtime-status] [108752] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:19:13.499Z] [runtime-status] [108752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.500Z] [runtime-status] [108752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.501Z] [runtime-status] [108752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.503Z] [runtime-status] [108752] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:19:13.503Z] [runtime-status] [108752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.540Z] [runtime-status] [108752] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:19:13.540Z] [runtime-status] [108752] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:19:13.543Z] [runtime-status] [108752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.544Z] [runtime-status] [108752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.545Z] [runtime-status] [108752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:19:13.545Z] [runtime-status] [108752] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:19:13.629Z] [runtime-status] [108752] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:19:13.629Z] [runtime-status] [108752] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:19:13.629Z] [runtime-status] [108752] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:19:13.632Z] [runtime-status] [108752] Attempting to listen to socketPath: /tmp/fire_emu_108752.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Attempting to listen to socketPath: /tmp/fire_emu_108752.sock"}}
[debug] [2020-09-12T00:19:13.635Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:19:13.640Z] [runtime-status] [108752] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:19:13.653Z] [runtime-status] [108752] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108752] Ephemeral server survived."}}
[info] >  (node:108752) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:108752) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108752) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:108752) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:108752) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108752) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:108752) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:108752) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108752) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:19:28.579Z] [worker-api-64b103c2-429f-4979-938c-66001778b8b9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64b103c2-429f-4979-938c-66001778b8b9]: exited"}}
[debug] [2020-09-12T00:19:28.579Z] [worker-api-64b103c2-429f-4979-938c-66001778b8b9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64b103c2-429f-4979-938c-66001778b8b9]: FINISHED"}}
[debug] [2020-09-12T00:19:28.579Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:20:13.642Z] [worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: exited"}}
[debug] [2020-09-12T00:20:13.642Z] [worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-770fd243-9b56-423e-b810-e9fc5fea03d0]: FINISHED"}}
[debug] [2020-09-12T00:20:13.642Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:21:38.767Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:21:38.767Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:21:38.768Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=2300 --> api
[debug] [2020-09-12T00:21:38.768Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-12T00:21:38.772Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:21:38.773Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:21:38.773Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:21:38.773Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: Assigning socketPath: /tmp/fire_emu_108873.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: Assigning socketPath: /tmp/fire_emu_108873.sock"}}
[debug] [2020-09-12T00:21:38.773Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: BUSY"}}
[debug] [2020-09-12T00:21:39.090Z] [runtime-status] [108873] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:21:39.092Z] [runtime-status] [108873] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:21:39.093Z] [runtime-status] [108873] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.094Z] [runtime-status] [108873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.095Z] [runtime-status] [108873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.096Z] [runtime-status] [108873] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:21:39.097Z] [runtime-status] [108873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.125Z] [runtime-status] [108873] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:21:39.125Z] [runtime-status] [108873] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:21:39.126Z] [runtime-status] [108873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.127Z] [runtime-status] [108873] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.128Z] [runtime-status] [108873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:21:39.128Z] [runtime-status] [108873] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:21:39.202Z] [runtime-status] [108873] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:21:39.202Z] [runtime-status] [108873] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:21:39.203Z] [runtime-status] [108873] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:21:39.205Z] [runtime-status] [108873] Attempting to listen to socketPath: /tmp/fire_emu_108873.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Attempting to listen to socketPath: /tmp/fire_emu_108873.sock"}}
[debug] [2020-09-12T00:21:39.207Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:21:39.213Z] [runtime-status] [108873] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  2300 {"user":"Payment Request Received BOOM!!!!! total:  2300","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  2300"}}
[debug] [2020-09-12T00:21:39.223Z] [runtime-status] [108873] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:21:40.078Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: IDLE"}}
[debug] [2020-09-12T00:21:40.078Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:21:59.973Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:21:59.973Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:21:59.973Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=102998 --> api
[debug] [2020-09-12T00:21:59.973Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:21:59.974Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: Assigning socketPath: /tmp/fire_emu_108873.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: Assigning socketPath: /tmp/fire_emu_108873.sock"}}
[debug] [2020-09-12T00:21:59.974Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: BUSY"}}
[debug] [2020-09-12T00:21:59.976Z] [runtime-status] [108873] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:21:59.976Z] [runtime-status] [108873] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:21:59.976Z] [runtime-status] [108873] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:21:59.977Z] [runtime-status] [108873] Attempting to listen to socketPath: /tmp/fire_emu_108873.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Attempting to listen to socketPath: /tmp/fire_emu_108873.sock"}}
[debug] [2020-09-12T00:21:59.978Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:21:59.982Z] [runtime-status] [108873] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  102998 {"user":"Payment Request Received BOOM!!!!! total:  102998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  102998"}}
[debug] [2020-09-12T00:21:59.985Z] [runtime-status] [108873] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:22:00.392Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: IDLE"}}
[debug] [2020-09-12T00:22:00.393Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:22:22.010Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:22:22.011Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:22:22.011Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:22:22.011Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:22:22.011Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: Assigning socketPath: /tmp/fire_emu_108873.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: Assigning socketPath: /tmp/fire_emu_108873.sock"}}
[debug] [2020-09-12T00:22:22.011Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: BUSY"}}
[debug] [2020-09-12T00:22:22.013Z] [runtime-status] [108873] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:22:22.014Z] [runtime-status] [108873] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:22:22.014Z] [runtime-status] [108873] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:22:22.014Z] [runtime-status] [108873] Attempting to listen to socketPath: /tmp/fire_emu_108873.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Attempting to listen to socketPath: /tmp/fire_emu_108873.sock"}}
[debug] [2020-09-12T00:22:22.015Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:22:22.019Z] [runtime-status] [108873] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:22:22.021Z] [runtime-status] [108873] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [108873] Ephemeral server survived."}}
[info] >  (node:108873) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:108873) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108873) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:108873) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:108873) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108873) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:108873) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:108873) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:108873) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:23:22.027Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: exited"}}
[debug] [2020-09-12T00:23:22.027Z] [worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-789cd5dd-ca1f-4632-9adb-edfec9f3d8db]: FINISHED"}}
[debug] [2020-09-12T00:23:22.027Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:24:17.250Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:24:17.250Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:24:17.251Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:24:17.251Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:24:17.257Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:24:17.258Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:24:17.258Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:24:17.258Z] [worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: Assigning socketPath: /tmp/fire_emu_109038.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: Assigning socketPath: /tmp/fire_emu_109038.sock"}}
[debug] [2020-09-12T00:24:17.258Z] [worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: BUSY"}}
[debug] [2020-09-12T00:24:17.691Z] [runtime-status] [109038] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:24:17.694Z] [runtime-status] [109038] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:24:17.697Z] [runtime-status] [109038] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.700Z] [runtime-status] [109038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.701Z] [runtime-status] [109038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.706Z] [runtime-status] [109038] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:24:17.709Z] [runtime-status] [109038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.743Z] [runtime-status] [109038] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:24:17.744Z] [runtime-status] [109038] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:24:17.744Z] [runtime-status] [109038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.745Z] [runtime-status] [109038] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.745Z] [runtime-status] [109038] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:24:17.745Z] [runtime-status] [109038] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:24:17.829Z] [runtime-status] [109038] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:24:17.829Z] [runtime-status] [109038] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:24:17.830Z] [runtime-status] [109038] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:24:17.833Z] [runtime-status] [109038] Attempting to listen to socketPath: /tmp/fire_emu_109038.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Attempting to listen to socketPath: /tmp/fire_emu_109038.sock"}}
[debug] [2020-09-12T00:24:17.835Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:24:17.841Z] [runtime-status] [109038] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:24:17.854Z] [runtime-status] [109038] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109038] Ephemeral server survived."}}
[info] >  (node:109038) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:109038) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109038) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:109038) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:109038) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109038) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:109038) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:109038) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109038) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:25:17.842Z] [worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: exited"}}
[debug] [2020-09-12T00:25:17.842Z] [worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b740ebe0-f48a-4cac-b22a-5e065e0a10f2]: FINISHED"}}
[debug] [2020-09-12T00:25:17.842Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:25:23.967Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:25:23.967Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:25:23.967Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:25:23.967Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:25:23.973Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:25:23.974Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:25:23.974Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:25:23.974Z] [worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: Assigning socketPath: /tmp/fire_emu_109111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: Assigning socketPath: /tmp/fire_emu_109111.sock"}}
[debug] [2020-09-12T00:25:23.974Z] [worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: BUSY"}}
[debug] [2020-09-12T00:25:24.481Z] [runtime-status] [109111] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:25:24.483Z] [runtime-status] [109111] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:25:24.485Z] [runtime-status] [109111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.486Z] [runtime-status] [109111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.487Z] [runtime-status] [109111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.489Z] [runtime-status] [109111] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:25:24.490Z] [runtime-status] [109111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.533Z] [runtime-status] [109111] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:25:24.533Z] [runtime-status] [109111] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:25:24.537Z] [runtime-status] [109111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.538Z] [runtime-status] [109111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.539Z] [runtime-status] [109111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:24.539Z] [runtime-status] [109111] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:25:24.637Z] [runtime-status] [109111] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:25:24.638Z] [runtime-status] [109111] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:25:24.638Z] [runtime-status] [109111] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:25:24.641Z] [runtime-status] [109111] Attempting to listen to socketPath: /tmp/fire_emu_109111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Attempting to listen to socketPath: /tmp/fire_emu_109111.sock"}}
[debug] [2020-09-12T00:25:24.644Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:25:24.652Z] [runtime-status] [109111] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:25:24.670Z] [runtime-status] [109111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109111] Ephemeral server survived."}}
[info] >  (node:109111) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:109111) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109111) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:109111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:109111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:109111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:109111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-09-12T00:25:42.283Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-09-12T00:25:42.283Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-09-12T00:25:42.283Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:25:42.295Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:25:42.296Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-09-12T00:25:42.296Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:25:42.296Z] [worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: Assigning socketPath: /tmp/fire_emu_109138.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: Assigning socketPath: /tmp/fire_emu_109138.sock"}}
[debug] [2020-09-12T00:25:42.296Z] [worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: BUSY"}}
[debug] [2020-09-12T00:25:42.719Z] [runtime-status] [109138] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:25:42.721Z] [runtime-status] [109138] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:25:42.723Z] [runtime-status] [109138] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.724Z] [runtime-status] [109138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.726Z] [runtime-status] [109138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.727Z] [runtime-status] [109138] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:25:42.728Z] [runtime-status] [109138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.765Z] [runtime-status] [109138] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:25:42.765Z] [runtime-status] [109138] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:25:42.767Z] [runtime-status] [109138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.768Z] [runtime-status] [109138] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.768Z] [runtime-status] [109138] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:25:42.768Z] [runtime-status] [109138] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:25:42.853Z] [runtime-status] [109138] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:25:42.854Z] [runtime-status] [109138] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:25:42.854Z] [runtime-status] [109138] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:25:42.857Z] [runtime-status] [109138] Attempting to listen to socketPath: /tmp/fire_emu_109138.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Attempting to listen to socketPath: /tmp/fire_emu_109138.sock"}}
[debug] [2020-09-12T00:25:42.860Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:25:42.867Z] [runtime-status] [109138] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:25:42.881Z] [runtime-status] [109138] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109138] Ephemeral server survived."}}
[info] >  (node:109138) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:109138) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109138) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:109138) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:109138) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109138) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:109138) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:109138) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109138) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:26:24.650Z] [worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: exited"}}
[debug] [2020-09-12T00:26:24.651Z] [worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-efd8b85c-0658-4cf8-ae7e-6a637fe81a82]: FINISHED"}}
[debug] [2020-09-12T00:26:24.651Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:26:42.870Z] [worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: exited"}}
[debug] [2020-09-12T00:26:42.870Z] [worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f57a406-1434-458e-9071-2f92226bdfbd]: FINISHED"}}
[debug] [2020-09-12T00:26:42.871Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:32:28.965Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:32:28.965Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:32:28.965Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=0 --> api
[debug] [2020-09-12T00:32:28.965Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-09-12T00:32:28.972Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:32:28.973Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:32:28.973Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:32:28.973Z] [worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: Assigning socketPath: /tmp/fire_emu_109525.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: Assigning socketPath: /tmp/fire_emu_109525.sock"}}
[debug] [2020-09-12T00:32:28.973Z] [worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: BUSY"}}
[debug] [2020-09-12T00:32:29.355Z] [runtime-status] [109525] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:32:29.357Z] [runtime-status] [109525] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:32:29.360Z] [runtime-status] [109525] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.362Z] [runtime-status] [109525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.364Z] [runtime-status] [109525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.366Z] [runtime-status] [109525] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:32:29.367Z] [runtime-status] [109525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.400Z] [runtime-status] [109525] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:32:29.400Z] [runtime-status] [109525] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:32:29.400Z] [runtime-status] [109525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.401Z] [runtime-status] [109525] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.402Z] [runtime-status] [109525] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:32:29.402Z] [runtime-status] [109525] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:32:29.485Z] [runtime-status] [109525] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:32:29.486Z] [runtime-status] [109525] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:32:29.486Z] [runtime-status] [109525] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:32:29.490Z] [runtime-status] [109525] Attempting to listen to socketPath: /tmp/fire_emu_109525.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Attempting to listen to socketPath: /tmp/fire_emu_109525.sock"}}
[debug] [2020-09-12T00:32:29.493Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:32:29.500Z] [runtime-status] [109525] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  0 {"user":"Payment Request Received BOOM!!!!! total:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  0"}}
[debug] [2020-09-12T00:32:29.512Z] [runtime-status] [109525] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109525] Ephemeral server survived."}}
[info] >  (node:109525) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:109525) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109525) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16) {"user":"    at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/Error.js:39:16)"}}
[info] >      at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/home/adibe/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1221:12) {"user":"    at endReadableNT (_stream_readable.js:1221:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1221:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:109525) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:109525) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109525) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:109525) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:109525) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:109525) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642 {"user":"/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");"}}
[info] >                  ^ {"user":"                ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23) {"user":"    at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/adibe/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:642:23)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2020-09-12T00:33:29.499Z] [worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: exited"}}
[debug] [2020-09-12T00:33:29.500Z] [worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26c68215-754b-4e7d-ba5f-4380f37866fd]: FINISHED"}}
[debug] [2020-09-12T00:33:29.500Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-09-12T00:34:12.202Z] File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/adibe/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-09-12T00:34:13.202Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-09-12T00:34:13.203Z] [worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: FINISHING"}}
[debug] [2020-09-12T00:34:13.203Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-09-12T00:34:13.213Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-09-12T00:34:13.214Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-09-12T00:34:13.214Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-09-12T00:34:13.214Z] [worker-~diagnostic~-6a5eedaa-6d23-4d5b-bb98-6755199aea73]: Assigning socketPath: /tmp/fire_emu_109615.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a5eedaa-6d23-4d5b-bb98-6755199aea73]: Assigning socketPath: /tmp/fire_emu_109615.sock"}}
[debug] [2020-09-12T00:34:13.214Z] [worker-~diagnostic~-6a5eedaa-6d23-4d5b-bb98-6755199aea73]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a5eedaa-6d23-4d5b-bb98-6755199aea73]: BUSY"}}
[debug] [2020-09-12T00:34:13.217Z] [worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: exited"}}
[debug] [2020-09-12T00:34:13.217Z] [worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-56957e7e-fe8e-4e57-86c4-937b96b11af2]: FINISHED"}}
[debug] [2020-09-12T00:34:13.530Z] [runtime-status] [109615] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:34:13.532Z] [runtime-status] [109615] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:34:13.534Z] [runtime-status] [109615] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.535Z] [runtime-status] [109615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.536Z] [runtime-status] [109615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.537Z] [runtime-status] [109615] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:34:13.538Z] [runtime-status] [109615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.570Z] [runtime-status] [109615] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:34:13.571Z] [runtime-status] [109615] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:34:13.572Z] [runtime-status] [109615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.572Z] [runtime-status] [109615] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.573Z] [runtime-status] [109615] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:34:13.573Z] [runtime-status] [109615] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [109615] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:34:13.653Z] [worker-~diagnostic~-6a5eedaa-6d23-4d5b-bb98-6755199aea73]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a5eedaa-6d23-4d5b-bb98-6755199aea73]: IDLE"}}
[debug] [2020-09-12T00:37:08.188Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-09-12T00:37:08.188Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-09-12T00:37:08.188Z] Accepted request POST /clone-975bf/us-central1/api/payments/create?total=99999 --> api
[debug] [2020-09-12T00:37:08.188Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-09-12T00:37:08.195Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-09-12T00:37:08.195Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-09-12T00:37:08.196Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-09-12T00:37:08.196Z] [worker-api-4ab479b9-6609-46c1-ac7d-088de151ab01]: Assigning socketPath: /tmp/fire_emu_109758.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ab479b9-6609-46c1-ac7d-088de151ab01]: Assigning socketPath: /tmp/fire_emu_109758.sock"}}
[debug] [2020-09-12T00:37:08.196Z] [worker-api-4ab479b9-6609-46c1-ac7d-088de151ab01]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ab479b9-6609-46c1-ac7d-088de151ab01]: BUSY"}}
[debug] [2020-09-12T00:37:08.525Z] [runtime-status] [109758] Functions runtime initialized. {"cwd":"/home/adibe/amazon-clone/functions","node_version":"12.18.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Functions runtime initialized. {\"cwd\":\"/home/adibe/amazon-clone/functions\",\"node_version\":\"12.18.1\"}"}}
[debug] [2020-09-12T00:37:08.527Z] [runtime-status] [109758] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Disabled runtime features: undefined"}}
[debug] [2020-09-12T00:37:08.529Z] [runtime-status] [109758] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.530Z] [runtime-status] [109758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.532Z] [runtime-status] [109758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.534Z] [runtime-status] [109758] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-09-12T00:37:08.534Z] [runtime-status] [109758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.571Z] [runtime-status] [109758] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-09-12T00:37:08.571Z] [runtime-status] [109758] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-09-12T00:37:08.572Z] [runtime-status] [109758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.573Z] [runtime-status] [109758] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.573Z] [runtime-status] [109758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.11.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.11.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-09-12T00:37:08.574Z] [runtime-status] [109758] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"/home/adibe/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-09-12T00:37:08.655Z] [runtime-status] [109758] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-09-12T00:37:08.655Z] [runtime-status] [109758] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-09-12T00:37:08.655Z] [runtime-status] [109758] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Running api in mode HTTPS"}}
[debug] [2020-09-12T00:37:08.658Z] [runtime-status] [109758] Attempting to listen to socketPath: /tmp/fire_emu_109758.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Attempting to listen to socketPath: /tmp/fire_emu_109758.sock"}}
[debug] [2020-09-12T00:37:08.660Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-09-12T00:37:08.666Z] [runtime-status] [109758] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Ephemeral server handling POST request"}}
[info] >  Payment Request Received BOOM!!!!! total:  99999 {"user":"Payment Request Received BOOM!!!!! total:  99999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!!!! total:  99999"}}
[debug] [2020-09-12T00:37:08.677Z] [runtime-status] [109758] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [109758] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-09-12T00:37:09.508Z] [worker-api-4ab479b9-6609-46c1-ac7d-088de151ab01]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ab479b9-6609-46c1-ac7d-088de151ab01]: IDLE"}}
[debug] [2020-09-12T00:37:09.508Z] [work-queue] {"queueLength":0,"workRunningCount":0}
